const Story = require("../models/storySchema.js");
const Comment = require("../models/commentSchema.js");

// Post Review Route
app.post("/", async (req, res) => {
    let story = await Story.findById(req.params.id);
    let newComment = new Comment(req.body.review);
    newComment.author = req.user._id;
    story.reviews.push(newComment);

    await newComment.save();
    await story.save();

    console.log("New Review Created!");
    res.redirect(`/stories/${story._id}`);
});

<div class="space-y-4">
        <div data-slot="card" class="bg-card text-card-foreground flex flex-col gap-6 rounded-xl border">
            <div data-slot="card-content" class="[&amp;:last-child]:pb-6 p-4">
                <div class="flex items-start gap-3">
                    <div class="avatar avatar-placeholder">
                      <div class="bg-neutral text-neutral-content w-12 rounded-full">
                        <span>A</span>
                      </div>
                    </div>

                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-1"><span class="font-medium">Emma Wilson</span><span
                            class="text-sm text-muted-foreground">2 hours ago</span></div>
                            <div class="rating">
                              <input type="radio" name="rating-2" class="mask mask-star-2 bg-orange-300" aria-label="1 star" />
                              <input type="radio" name="rating-2" class="mask mask-star-2 bg-orange-300" aria-label="2 star" checked="checked" />
                              <input type="radio" name="rating-2" class="mask mask-star-2 bg-orange-300" aria-label="3 star" />
                              <input type="radio" name="rating-2" class="mask mask-star-2 bg-orange-300" aria-label="4 star" />
                              <input type="radio" name="rating-2" class="mask mask-star-2 bg-orange-300" aria-label="5 star" />
                            </div>
                        <p class="text-sm mt-2">This is such a beautiful story! Your writing really touched my heart.</p>
                        <div class="flex items-center gap-2 mt-2">
                            <button data-slot="button"
                                class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[>svg]:px-2.5 text-xs h-6 px-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart w-3 h-3 mr-1" aria-hidden="true"><path d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"></path></svg>
                                12
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</div>
